<a
  *ngIf="isPopupsAvailable()"
  (click)="openAddGroupModal({
            groupId: null,
            companyId: company.id
          })"
  style="padding-left: 25px"
  class="highlighted-link"
>Add group</a>

<ul
  [ngClass]="level == 'top'? 'comments-list' : 'children'"
>
  <li
    *ngFor="let recursiveGroupTree of recursiveGroupTrees"
    class="comment-item has-children"
  >
    <div class="post__author author vcard inline-items">
      <img loading="lazy" src="img/avatar5-sm.jpg" alt="author">
      <div class="author-date">
        <h3 class="h6 post__author-name fn" href="#">{{recursiveGroupTree.recursiveGroup.name}}</h3>
        <span
          *ngIf="isPopupsAvailable()"
        >
          <a
            (click)="openWriteStackReviewModal({groupId: recursiveGroupTree.recursiveGroup.id})"
            class="highlighted-link"
          >Add a review</a>
          |
          <a
            (click)="openAddGroupModal({
              groupId: recursiveGroupTree.recursiveGroup.id,
              companyId: company.id
            })"
            class="highlighted-link"
          >Add group</a>
          |
          <a
            (click)="openAddTechnologyModal({
              groupId: recursiveGroupTree.recursiveGroup.id,
              companyId: company.id
            })"
            class="highlighted-link"
          >Add technology</a>
        </span>
      </div>
    </div>

    <app-review-display-small
      *ngFor="let review of getReviewsByGroupId(recursiveGroupTree.recursiveGroup.id)"
      [review]="review"
      [user]="reviewUsers[review.createdBy]"
    ></app-review-display-small>

    <app-group-display-normal
      [company]="company"
      [recursiveGroupTrees]="recursiveGroupTree.children"
      [reviews]="getReviews()"
      [reviewUsers]="reviewUsers"
      [showReviews]="showReviews"
      [level]="'child'"
    ></app-group-display-normal>

  </li>
</ul>
